\documentclass{beamer}

\graphicspath{ {../dolgozat/images/} }
\usepackage[export]{adjustbox}
\usepackage{python}

\usepackage{listings}
\usepackage{color}

% Code colorature
\definecolor{paszt}{RGB}{252,252,252}
\definecolor{keret}{RGB}{220,220,220}
\lstset{
backgroundcolor=\color{paszt},
% showlines=true,
framexleftmargin=4mm,
framexrightmargin=4mm,
framextopmargin=2mm,
framexbottommargin=2mm,
frameround=tttt,
frame=trbl,
rulecolor=\color{keret}
}

\usetheme{Copenhagen}
\useinnertheme{rectangles}

% ---- Mongo theme ----
%\definecolor{light-background}{RGB}{210,250,170}
%\definecolor{dark-background}{RGB}{128,92,64}
%\usecolortheme[RGB={220,250,180}]{structure}

% ---- Vanilla theme ----
% \definecolor{light-background}{RGB}{250,250,190}
% \definecolor{dark-background}{RGB}{128,92,64}
% \usecolortheme[RGB={210, 210, 140}]{structure}

% ---- Blue theme ----
%\definecolor{light-background}{RGB}{200,220,240}
%\definecolor{dark-background}{RGB}{100,110,120}
%\usecolortheme[RGB={180, 200, 230}]{structure}

% ---- Green theme ----
\definecolor{light-background}{RGB}{229,237,204}
\definecolor{dark-background}{RGB}{156,163,140}
\usecolortheme[RGB={180, 210, 150}]{structure}

\setbeamercolor{palette primary}{fg=black, bg=light-background}
\setbeamercolor{palette quaternary}{fg=white,bg=dark-background}

\setbeamercolor{title}{fg=black}
\setbeamercolor{frametitle}{fg=black}

% Set font
\usefonttheme{structurebold}

\frenchspacing

% Language packages
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[magyar]{babel}

% AMS
\usepackage{amssymb,amsmath}

% Graphic packages
\usepackage{graphicx}

% Syntax highlighting
% \usepackage{listings}

\usepackage{tikz}

%\begin{figure}[htb]
%\begin{center}
%	\includegraphics[scale=0.4]{ps_times.png}
%\end{center}
%\end{figure}

% ==============
\begin{document}
% ==============

\title[Kínai karakterek felismerése
generált minták alapján]{
{\Large Kínai karakterek felismerése
generált minták alapján}
}
\author[Szilvási Péter]{\Large Szilvási Péter}
\date{TDK konferencia, Miskolci Egyetem, 2018. április 25.}

% --------------------
% Title page
\frame{\titlepage}

% --------------------
\begin{frame}[fragile]
\frametitle{Kínai karakterek felismerése}

\begin{tabular}{c c}
{\large Vonások, vonás sorrend} & 
\includegraphics[scale=0.3, center]{vonasrend_ordered}
\end{tabular}

\begin{enumerate}
\item A vízszintes vonások megelőzik a függőleges vonásokat.
\item A balra lejtő vonások megelőzik a jobbra lejtő vonásokat.
\item Az írásjegyek írását felülről kell kezdeni.
\item Az írásjegyet balról jobbra haladva építik fel.
\item A felülről keretezett írásjegyeknél előbb a keretet kell meghúzni.
\item Az alulról keretezett írásjegyeknél a keretet legvégül kell meghúzni.
\item A teljes keretet mindig legvégül kell bezárni.
\end{enumerate}



\end{frame}

% --------------------
\begin{frame}[fragile]
\frametitle{OCR megvalósítások}

\begin{itemize}
\item Dokumentumok digitalizálása
\item OCR részei: szekennelő fej + szoftver
\item Feldolgozási szintek:
\begin{itemize}
	\item Alacsony szintű: zajos kép $\rightarrow$ előfeldolgozás $\rightarrow$ javított kép
	\item Középső szintű: kép $\rightarrow$ szegmentálás $\rightarrow$ kép jellemzők
	\item Magas szintű: jellemzők $\rightarrow$ osztályozás $\rightarrow$ osztálycímke
\end{itemize}

\includegraphics[scale=0.45, center]{ocr}
\end{itemize}


% Karakterek részekre bontása, struktúrális elemzése

% Betűtípusokból való eltérések

\end{frame}

% --------------------
\begin{frame}[fragile]
\frametitle{OCR megvalósítások}
\begin{itemize}
\item OCR típus:
\begin{itemize}
	\item Online
	\item Offline
\end{itemize}
\end{itemize}

{\large Kínai karakter felismerés}
\begin{itemize}
\item Zaj szűrés: pontszerű, elmosódás, forgatás, kontraszt
\item Jellemző kivonás

\includegraphics[scale=0.6, center]{ocr_features}
\end{itemize}


\end{frame}

% --------------------
\begin{frame}[fragile]
\frametitle{OCR megvalósítások}
\begin{tabular}{c c}
{\large Használt algoritmus} & 
\includegraphics[scale=0.2, center]{chinese_fonts1}
\end{tabular}
\begin{itemize}
\item Funkció kivonás

\(d_i = \dfrac{l_i}{\sqrt{\displaystyle \sum_{k=1}^8 l_k^2}}\)
\begin{tabular}{ c c }
\includegraphics[scale=0.3]{8direction} & \includegraphics[scale=0.3]{ocr_PDC}
\end{tabular}
\item Tanítás
\item Tesztelés
\begin{table}
\centering
\begin{tabular}{ |c|c|c|c|c|}
\hline
Font & Song & Fang & Kai & Hei\\
\hline
Train & 99.82 & 99.64 & 99.81 & 99.57\\
\hline
Test & 99.71 & 99.50 & 99.80 & 99.09\\
\hline
\end{tabular}
\end{table}
\end{itemize}
\end{frame}

% --------------------
\begin{frame}[fragile]
\frametitle{Minták generálása}
\begin{itemize}
\item {\large Tanító mintapontok előállítása} (sorrend, vonal vastagság)
\item Képernyő \begin{lstlisting}
img = np.zeros((512,512,3),np.uint8)
img[0:512] = (255,255,255)
\end{lstlisting} 
\item Ecset \begin{lstlisting}
cv2.ellipse(img,center,axes,angle,start_angle,
end_angle,color,thickness=1,lineType=8,shift=0) 
\end{lstlisting}
\end{itemize}


\end{frame}

% --------------------
\begin{frame}[fragile]
\frametitle{Karakterek kirajzolása}
\begin{enumerate}
\item Poligonos közelítés
\item Procedurális rajzolás \begin{figure}
\includegraphics[scale=0.35]{proc_draw2}
\end{figure}
\begin{itemize}
\item Hermit ív: $\textbf{H}(u) = \textbf{a}_0 u^3 + \textbf{a}_1 u^2 + \textbf{a}_2 u + \textbf{a}_3$
\end{itemize}
\item Pontonkénti színszámítás
\end{enumerate}

\end{frame}

% --------------------
\begin{frame}[fragile]
\frametitle{Tanítóminták zajosítása}
\begin{enumerate}
\item Pontszerű: zaj mátrix (M $\oplus$ N)
\item Elmosódás: normalizált szűrő, gauss szűrő, medián szűrő $
g(i, j) = \sum_{k, l} f(i + k, j + l) h(k, l)
$
\item Forgatás: $
M = \begin{bmatrix} cos\theta & -sin\theta \\ sin\theta & cos\theta   \end{bmatrix}.
$ (cv2.getRotationMatrix2D())
\item Vágás: \lstinline{crop_img} = img[y:y+h, x:x+w]\lstinline{}
\item Takarás: festő algoritmus
\end{enumerate}
\begin{figure}[h]
\centering
\includegraphics[scale=0.5]{noises}
\end{figure}
\end{frame}

% --------------------
\begin{frame}[fragile]
\frametitle{Mesterséges neurális hálók}

Tanítóalgoritmus, backpropagation

\end{frame}

% --------------------
\begin{frame}[fragile]
\frametitle{Konvolúciós neurális háló}

A hálózat architektúrája, használt topológia

\end{frame}

% --------------------
\begin{frame}[fragile]
\frametitle{A háló felépítése}

4.10-es ábra

\end{frame}

% --------------------
\begin{frame}[fragile]
\frametitle{A hálózat architektúrája}

5.2 ábra

\end{frame}

% --------------------
\begin{frame}[fragile]
\frametitle{Az offline adatbázis}

Kb. 3x4 karakter az 5.1 ábrából

\end{frame}

% --------------------
\begin{frame}[fragile]
\frametitle{Validáció}

Tesztelés módja, helyesség ellenőrzése

\end{frame}

% --------------------
\begin{frame}[fragile]
\frametitle{A felismerés hatékonysága}

Eredmények konkrét százalékokkal

\end{frame}

% --------------------
\begin{frame}[fragile]
\frametitle{Összegzés}


\end{frame}


% --------------------
\begin{frame}[fragile]
\frametitle{Hivatkozások}


\end{frame}

% --------------------
\begin{frame}[fragile]
    \frametitle{\ }

\begin{center}
\Large \textbf{Köszönöm szépen a figyelmet!}
\end{center}

\end{frame}


\end{document}

